{
  "openapi": "3.0.3",
  "info": {
    "title": "Smart Incident Radar (SIR) API",
    "version": "1.0.0",
    "description": "API contract for the SIR frontend (map + incidents + predictions + prediction details). MVP has no auth."
  },
  "servers": [
    {
      "url": "/api/v1"
    }
  ],
  "tags": [
    {
      "name": "Config"
    },
    {
      "name": "Incidents"
    },
    {
      "name": "Predictions"
    }
  ],
  "paths": {
    "/config": {
      "get": {
        "tags": [
          "Config"
        ],
        "summary": "Get map bootstrap configuration",
        "description": "Returns city center and bbox, plus refresh intervals. MVP has no auth.",
        "parameters": [
          {
            "$ref": "#/components/parameters/CityIdOptional"
          }
        ],
        "responses": {
          "200": {
            "description": "Config payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConfigResponse"
                },
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "city": {
                          "id": "riyadh",
                          "name": "Riyadh",
                          "center": {
                            "lat": 24.7136,
                            "lng": 46.6753
                          },
                          "bbox": {
                            "min_lat": 24.3,
                            "min_lng": 46.2,
                            "max_lat": 25.1,
                            "max_lng": 47.2
                          }
                        },
                        "refresh_seconds": {
                          "incidents": 15,
                          "predictions": 60
                        }
                      },
                      "meta": {
                        "request_id": "b7a7b2f0-3b75-4a6d-9b2a-0a6e3f1a2c9f",
                        "generated_at": "2025-12-12T10:00:00Z"
                      },
                      "errors": []
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/incidents": {
      "get": {
        "tags": [
          "Incidents"
        ],
        "summary": "Get incidents (always last 24 hours)",
        "description": "Returns incidents for now-24h -> now. Optionally filter by bbox for viewport loading.",
        "parameters": [
          {
            "$ref": "#/components/parameters/CityIdRequired"
          },
          {
            "$ref": "#/components/parameters/BBoxOptional"
          },
          {
            "$ref": "#/components/parameters/LimitOptional"
          },
          {
            "$ref": "#/components/parameters/CursorOptional"
          }
        ],
        "responses": {
          "200": {
            "description": "Incidents payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/IncidentsResponse"
                },
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "window": {
                          "from": "2025-12-11T10:00:00Z",
                          "to": "2025-12-12T10:00:00Z"
                        },
                        "items": [
                          {
                            "incident_id": "inc-1001",
                            "title": "Traffic collision reported",
                            "domain": "traffic",
                            "severity": 3,
                            "status": "open",
                            "occurred_at": "2025-12-12T08:35:00Z",
                            "updated_at": "2025-12-12T08:40:00Z",
                            "location": {
                              "lat": 24.7136,
                              "lng": 46.6753
                            },
                            "source_channels": [
                              "911",
                              "field"
                            ]
                          }
                        ],
                        "next_cursor": null
                      },
                      "meta": {
                        "request_id": "b7a7b2f0-3b75-4a6d-9b2a-0a6e3f1a2c9f",
                        "generated_at": "2025-12-12T10:00:00Z"
                      },
                      "errors": []
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/predictions": {
      "get": {
        "tags": [
          "Predictions"
        ],
        "summary": "Get predictions by horizon",
        "description": "Returns predictions from now -> now+horizon_minutes. Geo is always circle (center + radius_meters).",
        "parameters": [
          {
            "$ref": "#/components/parameters/CityIdRequired"
          },
          {
            "$ref": "#/components/parameters/HorizonMinutesRequired"
          },
          {
            "$ref": "#/components/parameters/BBoxOptional"
          },
          {
            "$ref": "#/components/parameters/MinConfidenceOptional"
          }
        ],
        "responses": {
          "200": {
            "description": "Predictions payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionsResponse"
                },
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "window": {
                          "from": "2025-12-12T10:00:00Z",
                          "to": "2025-12-12T12:00:00Z",
                          "horizon_minutes": 120
                        },
                        "items": [
                          {
                            "prediction_id": "pred-2001",
                            "type": "hotspot",
                            "theme": "crash_risk",
                            "confidence": 0.76,
                            "risk_level": "medium",
                            "time_window": {
                              "start": "2025-12-12T10:30:00Z",
                              "end": "2025-12-12T11:30:00Z"
                            },
                            "geo": {
                              "center": {
                                "lat": 24.7112,
                                "lng": 46.6849
                              },
                              "radius_meters": 900
                            },
                            "explanations": [
                              {
                                "signal_type": "history",
                                "weight": 0.35,
                                "summary": "High crash density zone"
                              },
                              {
                                "signal_type": "weather",
                                "weight": 0.2,
                                "summary": "Reduced visibility"
                              }
                            ]
                          }
                        ]
                      },
                      "meta": {
                        "request_id": "b7a7b2f0-3b75-4a6d-9b2a-0a6e3f1a2c9f",
                        "generated_at": "2025-12-12T10:00:00Z"
                      },
                      "errors": []
                    }
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    },
    "/predictions/{prediction_id}": {
      "get": {
        "tags": [
          "Predictions"
        ],
        "summary": "Get prediction details (full explainability + related incidents)",
        "description": "Always includes signals list and related incidents (computed in last 24h within the prediction radius).",
        "parameters": [
          {
            "name": "prediction_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            },
            "description": "Prediction identifier"
          }
        ],
        "responses": {
          "200": {
            "description": "Prediction details payload",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PredictionDetailsResponse"
                },
                "examples": {
                  "default": {
                    "value": {
                      "data": {
                        "prediction_id": "pred-2001",
                        "type": "hotspot",
                        "theme": "crash_risk",
                        "confidence": 0.76,
                        "risk_level": "medium",
                        "created_at": "2025-12-12T10:00:10Z",
                        "time_window": {
                          "start": "2025-12-12T10:30:00Z",
                          "end": "2025-12-12T11:30:00Z"
                        },
                        "geo": {
                          "center": {
                            "lat": 24.7112,
                            "lng": 46.6849
                          },
                          "radius_meters": 900
                        },
                        "summary": "Elevated crash risk in this zone for the next 60–90 minutes.",
                        "explanations": [
                          {
                            "signal_type": "history",
                            "weight": 0.35,
                            "summary": "High crash density zone"
                          },
                          {
                            "signal_type": "weather",
                            "weight": 0.2,
                            "summary": "Reduced visibility"
                          }
                        ],
                        "signals": [
                          {
                            "signal_id": "sig-5001",
                            "source_type": "weather",
                            "theme": "crash_risk",
                            "confidence": 0.61,
                            "time_window": {
                              "start": "2025-12-12T09:45:00Z",
                              "end": "2025-12-12T10:45:00Z"
                            },
                            "geo": {
                              "center": {
                                "lat": 24.712,
                                "lng": 46.683
                              },
                              "radius_meters": 1500
                            },
                            "payload": {
                              "type": "fog",
                              "visibility_m": 800
                            }
                          }
                        ],
                        "related": {
                          "window": {
                            "from": "2025-12-11T10:00:00Z",
                            "to": "2025-12-12T10:00:00Z"
                          },
                          "incidents_count_24h": 18,
                          "top_domains": [
                            {
                              "domain": "traffic",
                              "count": 11
                            },
                            {
                              "domain": "health",
                              "count": 4
                            },
                            {
                              "domain": "crowd",
                              "count": 3
                            }
                          ],
                          "top_severity": [
                            {
                              "severity": 5,
                              "count": 2
                            },
                            {
                              "severity": 4,
                              "count": 6
                            },
                            {
                              "severity": 3,
                              "count": 10
                            }
                          ],
                          "sample_incidents": [
                            {
                              "incident_id": "inc-1001",
                              "title": "Traffic collision reported",
                              "domain": "traffic",
                              "severity": 3,
                              "status": "open",
                              "occurred_at": "2025-12-12T08:35:00Z",
                              "updated_at": "2025-12-12T08:40:00Z",
                              "location": {
                                "lat": 24.7136,
                                "lng": 46.6753
                              },
                              "source_channels": [
                                "911",
                                "field"
                              ]
                            }
                          ]
                        }
                      },
                      "meta": {
                        "request_id": "b7a7b2f0-3b75-4a6d-9b2a-0a6e3f1a2c9f",
                        "generated_at": "2025-12-12T10:00:00Z"
                      },
                      "errors": []
                    }
                  }
                }
              }
            }
          },
          "404": {
            "$ref": "#/components/responses/NotFound"
          },
          "400": {
            "$ref": "#/components/responses/BadRequest"
          }
        }
      }
    }
  },
  "components": {
    "parameters": {
      "CityIdRequired": {
        "name": "city_id",
        "in": "query",
        "required": true,
        "schema": {
          "type": "string"
        },
        "description": "City identifier (e.g., riyadh)"
      },
      "CityIdOptional": {
        "name": "city_id",
        "in": "query",
        "required": false,
        "schema": {
          "type": "string",
          "default": "riyadh"
        },
        "description": "City identifier (default riyadh)"
      },
      "BBoxOptional": {
        "name": "bbox",
        "in": "query",
        "required": false,
        "schema": {
          "type": "string",
          "example": "46.2,24.3,47.2,25.1"
        },
        "description": "Bounding box as \"minLng,minLat,maxLng,maxLat\""
      },
      "LimitOptional": {
        "name": "limit",
        "in": "query",
        "required": false,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 5000,
          "default": 1000
        },
        "description": "Max number of items to return"
      },
      "CursorOptional": {
        "name": "cursor",
        "in": "query",
        "required": false,
        "schema": {
          "type": "string"
        },
        "description": "Pagination cursor"
      },
      "HorizonMinutesRequired": {
        "name": "horizon_minutes",
        "in": "query",
        "required": true,
        "schema": {
          "type": "integer",
          "minimum": 1,
          "maximum": 1440,
          "example": 120
        },
        "description": "Prediction horizon in minutes (user-selected)"
      },
      "MinConfidenceOptional": {
        "name": "min_confidence",
        "in": "query",
        "required": false,
        "schema": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "default": 0
        },
        "description": "Minimum confidence threshold (0..1)"
      }
    },
    "responses": {
      "BadRequest": {
        "description": "Invalid request / validation error",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            }
          }
        }
      },
      "NotFound": {
        "description": "Resource not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ErrorResponse"
            }
          }
        }
      }
    },
    "schemas": {
      "EnvelopeMeta": {
        "type": "object",
        "required": [
          "request_id",
          "generated_at"
        ],
        "properties": {
          "request_id": {
            "type": "string",
            "description": "Request identifier"
          },
          "generated_at": {
            "type": "string",
            "format": "date-time",
            "description": "Server generation timestamp"
          }
        }
      },
      "ErrorItem": {
        "type": "object",
        "required": [
          "code",
          "message"
        ],
        "properties": {
          "code": {
            "type": "string",
            "example": "VALIDATION_ERROR"
          },
          "message": {
            "type": "string",
            "example": "Invalid bbox format"
          },
          "field": {
            "type": "string",
            "nullable": true,
            "example": "bbox"
          }
        }
      },
      "ErrorResponse": {
        "type": "object",
        "required": [
          "data",
          "meta",
          "errors"
        ],
        "properties": {
          "data": {
            "nullable": true,
            "example": null
          },
          "meta": {
            "$ref": "#/components/schemas/EnvelopeMeta"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorItem"
            }
          }
        }
      },
      "LatLng": {
        "type": "object",
        "required": [
          "lat",
          "lng"
        ],
        "properties": {
          "lat": {
            "type": "number",
            "example": 24.7136
          },
          "lng": {
            "type": "number",
            "example": 46.6753
          }
        }
      },
      "BBox": {
        "type": "object",
        "required": [
          "min_lat",
          "min_lng",
          "max_lat",
          "max_lng"
        ],
        "properties": {
          "min_lat": {
            "type": "number"
          },
          "min_lng": {
            "type": "number"
          },
          "max_lat": {
            "type": "number"
          },
          "max_lng": {
            "type": "number"
          }
        }
      },
      "RefreshSeconds": {
        "type": "object",
        "required": [
          "incidents",
          "predictions"
        ],
        "properties": {
          "incidents": {
            "type": "integer",
            "example": 15
          },
          "predictions": {
            "type": "integer",
            "example": 60
          }
        }
      },
      "ConfigCity": {
        "type": "object",
        "required": [
          "id",
          "name",
          "center",
          "bbox"
        ],
        "properties": {
          "id": {
            "type": "string",
            "example": "riyadh"
          },
          "name": {
            "type": "string",
            "example": "Riyadh"
          },
          "center": {
            "$ref": "#/components/schemas/LatLng"
          },
          "bbox": {
            "$ref": "#/components/schemas/BBox"
          }
        }
      },
      "ConfigData": {
        "type": "object",
        "required": [
          "city",
          "refresh_seconds"
        ],
        "properties": {
          "city": {
            "$ref": "#/components/schemas/ConfigCity"
          },
          "refresh_seconds": {
            "$ref": "#/components/schemas/RefreshSeconds"
          }
        }
      },
      "ConfigResponse": {
        "type": "object",
        "required": [
          "data",
          "meta",
          "errors"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/ConfigData"
          },
          "meta": {
            "$ref": "#/components/schemas/EnvelopeMeta"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorItem"
            },
            "example": []
          }
        }
      },
      "IncidentDomain": {
        "type": "string",
        "description": "Used for UI styling (color/icon). No filter UI for now.",
        "enum": [
          "traffic",
          "drugs",
          "health",
          "crowd",
          "weapons",
          "other"
        ]
      },
      "IncidentStatus": {
        "type": "string",
        "enum": [
          "open",
          "closed",
          "in_progress"
        ]
      },
      "SourceChannel": {
        "type": "string",
        "enum": [
          "911",
          "kollna_amn",
          "field",
          "other"
        ]
      },
      "IncidentItem": {
        "type": "object",
        "required": [
          "incident_id",
          "title",
          "domain",
          "severity",
          "status",
          "occurred_at",
          "updated_at",
          "location"
        ],
        "properties": {
          "incident_id": {
            "type": "string",
            "example": "inc-1001"
          },
          "title": {
            "type": "string",
            "example": "Traffic collision reported"
          },
          "domain": {
            "$ref": "#/components/schemas/IncidentDomain"
          },
          "severity": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "example": 3
          },
          "status": {
            "$ref": "#/components/schemas/IncidentStatus"
          },
          "occurred_at": {
            "type": "string",
            "format": "date-time"
          },
          "updated_at": {
            "type": "string",
            "format": "date-time"
          },
          "location": {
            "$ref": "#/components/schemas/LatLng"
          },
          "source_channels": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SourceChannel"
            },
            "description": "Optional, useful for badges",
            "example": [
              "911",
              "field"
            ]
          }
        }
      },
      "Window": {
        "type": "object",
        "required": [
          "from",
          "to"
        ],
        "properties": {
          "from": {
            "type": "string",
            "format": "date-time"
          },
          "to": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "IncidentsData": {
        "type": "object",
        "required": [
          "window",
          "items",
          "next_cursor"
        ],
        "properties": {
          "window": {
            "$ref": "#/components/schemas/Window"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IncidentItem"
            }
          },
          "next_cursor": {
            "type": "string",
            "nullable": true,
            "example": null
          }
        }
      },
      "IncidentsResponse": {
        "type": "object",
        "required": [
          "data",
          "meta",
          "errors"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/IncidentsData"
          },
          "meta": {
            "$ref": "#/components/schemas/EnvelopeMeta"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorItem"
            },
            "example": []
          }
        }
      },
      "PredictionTheme": {
        "type": "string",
        "description": "Used for UI styling (color/icon). Fixed set for now.",
        "enum": [
          "drifting",
          "illegal_gathering",
          "weapons",
          "crowding",
          "crash_risk",
          "other"
        ]
      },
      "PredictionType": {
        "type": "string",
        "enum": [
          "hotspot"
        ]
      },
      "RiskLevel": {
        "type": "string",
        "enum": [
          "low",
          "medium",
          "high"
        ]
      },
      "CircleGeo": {
        "type": "object",
        "required": [
          "center",
          "radius_meters"
        ],
        "properties": {
          "center": {
            "$ref": "#/components/schemas/LatLng"
          },
          "radius_meters": {
            "type": "number",
            "example": 900
          }
        }
      },
      "PredictionTimeWindow": {
        "type": "object",
        "required": [
          "start",
          "end"
        ],
        "properties": {
          "start": {
            "type": "string",
            "format": "date-time"
          },
          "end": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "Explanation": {
        "type": "object",
        "required": [
          "signal_type",
          "weight",
          "summary"
        ],
        "properties": {
          "signal_type": {
            "type": "string",
            "example": "weather"
          },
          "weight": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 0.2
          },
          "summary": {
            "type": "string",
            "example": "Reduced visibility"
          }
        }
      },
      "PredictionItem": {
        "type": "object",
        "required": [
          "prediction_id",
          "type",
          "theme",
          "confidence",
          "risk_level",
          "time_window",
          "geo",
          "explanations"
        ],
        "properties": {
          "prediction_id": {
            "type": "string",
            "example": "pred-2001"
          },
          "type": {
            "$ref": "#/components/schemas/PredictionType"
          },
          "theme": {
            "$ref": "#/components/schemas/PredictionTheme"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 0.76
          },
          "risk_level": {
            "$ref": "#/components/schemas/RiskLevel"
          },
          "time_window": {
            "$ref": "#/components/schemas/PredictionTimeWindow"
          },
          "geo": {
            "$ref": "#/components/schemas/CircleGeo"
          },
          "explanations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Explanation"
            }
          }
        }
      },
      "PredictionsWindow": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Window"
          },
          {
            "type": "object",
            "required": [
              "horizon_minutes"
            ],
            "properties": {
              "horizon_minutes": {
                "type": "integer",
                "example": 120
              }
            }
          }
        ]
      },
      "PredictionsData": {
        "type": "object",
        "required": [
          "window",
          "items"
        ],
        "properties": {
          "window": {
            "$ref": "#/components/schemas/PredictionsWindow"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PredictionItem"
            }
          }
        }
      },
      "PredictionsResponse": {
        "type": "object",
        "required": [
          "data",
          "meta",
          "errors"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PredictionsData"
          },
          "meta": {
            "$ref": "#/components/schemas/EnvelopeMeta"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorItem"
            },
            "example": []
          }
        }
      },
      "SignalSourceType": {
        "type": "string",
        "enum": [
          "social",
          "news",
          "events",
          "weather",
          "history",
          "other"
        ]
      },
      "SignalItem": {
        "type": "object",
        "required": [
          "signal_id",
          "source_type",
          "theme",
          "confidence",
          "time_window",
          "geo",
          "payload"
        ],
        "properties": {
          "signal_id": {
            "type": "string",
            "example": "sig-5001"
          },
          "source_type": {
            "$ref": "#/components/schemas/SignalSourceType"
          },
          "theme": {
            "$ref": "#/components/schemas/PredictionTheme"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 0.61
          },
          "time_window": {
            "$ref": "#/components/schemas/PredictionTimeWindow"
          },
          "geo": {
            "$ref": "#/components/schemas/CircleGeo"
          },
          "payload": {
            "type": "object",
            "additionalProperties": true,
            "example": {
              "type": "fog",
              "visibility_m": 800
            }
          }
        }
      },
      "DomainCount": {
        "type": "object",
        "required": [
          "domain",
          "count"
        ],
        "properties": {
          "domain": {
            "$ref": "#/components/schemas/IncidentDomain"
          },
          "count": {
            "type": "integer",
            "example": 11
          }
        }
      },
      "SeverityCount": {
        "type": "object",
        "required": [
          "severity",
          "count"
        ],
        "properties": {
          "severity": {
            "type": "integer",
            "minimum": 1,
            "maximum": 5,
            "example": 4
          },
          "count": {
            "type": "integer",
            "example": 6
          }
        }
      },
      "RelatedIncidents": {
        "type": "object",
        "required": [
          "window",
          "incidents_count_24h",
          "top_domains",
          "top_severity",
          "sample_incidents"
        ],
        "properties": {
          "window": {
            "$ref": "#/components/schemas/Window"
          },
          "incidents_count_24h": {
            "type": "integer",
            "example": 18
          },
          "top_domains": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DomainCount"
            }
          },
          "top_severity": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SeverityCount"
            }
          },
          "sample_incidents": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/IncidentItem"
            }
          }
        }
      },
      "PredictionDetailsData": {
        "type": "object",
        "required": [
          "prediction_id",
          "type",
          "theme",
          "confidence",
          "risk_level",
          "created_at",
          "time_window",
          "geo",
          "summary",
          "explanations",
          "signals",
          "related"
        ],
        "properties": {
          "prediction_id": {
            "type": "string",
            "example": "pred-2001"
          },
          "type": {
            "$ref": "#/components/schemas/PredictionType"
          },
          "theme": {
            "$ref": "#/components/schemas/PredictionTheme"
          },
          "confidence": {
            "type": "number",
            "minimum": 0,
            "maximum": 1,
            "example": 0.76
          },
          "risk_level": {
            "$ref": "#/components/schemas/RiskLevel"
          },
          "created_at": {
            "type": "string",
            "format": "date-time"
          },
          "time_window": {
            "$ref": "#/components/schemas/PredictionTimeWindow"
          },
          "geo": {
            "$ref": "#/components/schemas/CircleGeo"
          },
          "summary": {
            "type": "string",
            "example": "Elevated crash risk in this zone for the next 60–90 minutes."
          },
          "explanations": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Explanation"
            }
          },
          "signals": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/SignalItem"
            }
          },
          "related": {
            "$ref": "#/components/schemas/RelatedIncidents"
          }
        }
      },
      "PredictionDetailsResponse": {
        "type": "object",
        "required": [
          "data",
          "meta",
          "errors"
        ],
        "properties": {
          "data": {
            "$ref": "#/components/schemas/PredictionDetailsData"
          },
          "meta": {
            "$ref": "#/components/schemas/EnvelopeMeta"
          },
          "errors": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ErrorItem"
            },
            "example": []
          }
        }
      }
    }
  }
}